#!/bin/sh
# Script to configure X, start common apps, and start xmonad.

# Configure PATH so that we can access our scripts below.
PATH=$PATH:~/.cabal/bin:~/.xmonad/bin

# Configure X.
xsetroot -cursor_name left_ptr &
xrdb ~/.Xresources &
setxkbmap -layout pl
xmodmap ~/.xmodmaprc

# Wallpaper.
feh --bg-center ~/.xmonad/wallpapers/bug.jpg

# Dunst Notification System.
dunst &

# Start slock.
xautolock -time 20 -locker slock &

# Start sound server.
pulseaudio --start &

# Useful daemons.
urxvtd -f -o -q
thunar --daemon &
xbindkeys

# Disable touchpad when typing.
syndaemon -k -i 1 &

# NetworkManager applet.
GTK_THEME=Adwaita:dark nm-applet &

# Start IM applications.
pidgin &
skype &

# Disable non-breaking space key combination with use of Alt-Gr and Space.
setxkbmap -option "nbsp:none"

# Tray, unclutter and Compton with customized settings.
tray &
unclutter &
compton -b --config ~/.compton.conf

# MPD last.fm scrobbler start.
sudo mpdas &

# Disable touchpad when mouse is paired.
[[ -f /dev/input/mouse0 ]] && /usr/bin/synclient TouchpadOff=1

# Starting SSH agent.
eval $(ssh-agent)

exec dbus-launch --sh-syntax --exit-with-session xmonad
